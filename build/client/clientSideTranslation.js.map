{"version":3,"sources":["../../src/client/clientSideTranslation.js"],"names":["init","Translator","translator","create","translateEvents","$","each","i","elem","el","attr","translateInPlace","then","find","x","val","replace","window","on","join"],"mappings":";;;;;AAAA,MAAMA,OAAQC,UAAD,IAAgB;AAC3B,QAAMC,aAAaD,WAAWE,MAAX,EAAnB;;AAEA,QAAMC,kBAAkB,MAAM;AAC5BC,MAAE,+CAAF,EAAmDC,IAAnD,CAAwD,CAACC,CAAD,EAAIC,IAAJ,KAAa;AACnE,YAAMC,KAAKJ,EAAEG,IAAF,CAAX;AACAC,SAAGC,IAAH,CAAQ,iBAAR,EAA2B,MAA3B;AACAR,iBAAWS,gBAAX,CAA4BH,IAA5B,EACGI,IADH,CACQ,MAAM;AACVH,WAAGI,IAAH,CAAQ,iCAAR,EACGH,IADH,CACQ,OADR,EACiB,CAACI,CAAD,EAAIC,GAAJ,KAAYA,IAAIC,OAAJ,CAAY,MAAZ,EAAoB,KAApB,CAD7B;AAED,OAJH;AAKD,KARD;AASD,GAVD;;AAYAX,IAAEY,MAAF,EAAUC,EAAV,CAAa,CACX,qBADW,EAEX,oBAFW,EAGX,qBAHW,EAIX,+BAJW,EAKX,yBALW,EAMXC,IANW,CAMN,GANM,CAAb,EAMa,MAAMf,iBANnB;AAOAA;AACD,CAvBD;;kBAyBeJ,I","file":"clientSideTranslation.js","sourcesContent":["const init = (Translator) => {\r\n  const translator = Translator.create();\r\n\r\n  const translateEvents = () => {\r\n    $('.plugin-calendar-event[data-translated=false]').each((i, elem) => {\r\n      const el = $(elem);\r\n      el.attr('data-translated', 'true');\r\n      translator.translateInPlace(elem)\r\n        .then(() => {\r\n          el.find('.plugin-calendar-time-date-view')\r\n            .attr('title', (x, val) => val.replace('<br>', ' | '));\r\n        });\r\n    });\r\n  };\r\n\r\n  $(window).on([\r\n    'action:posts.loaded',\r\n    'action:ajaxify.end',\r\n    'action:posts.edited',\r\n    'action:calendar.event.display',\r\n    'action:composer.preview',\r\n  ].join(' '), () => translateEvents());\r\n  translateEvents();\r\n};\r\n\r\nexport default init;\r\n"]}